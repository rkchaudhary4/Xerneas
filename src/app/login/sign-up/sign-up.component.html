<div class="wrapper" fxLayout="row" fxLayoutAlign="center center">
    <mat-card>
        <mat-card-title>Signup</mat-card-title>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" fxLayout="column" fxLayoutAlign="center center">
            <mat-form-field>
                <input matInput type="text" formControlName="username" id="username" name="username" placeholder="E-Mail" #name required />
                <mat-error id="repeat-help" class="text-warning" *ngIf="
            !(form.controls.username.valid || form.controls.username.pristine)
          ">
                    Please enter a valid e-mail ID
                </mat-error>
            </mat-form-field>
            <div class="form-group" formGroupName="passwords" fxFlex="33" fxLayout="column" fxLayoutAlign="center start">
                <mat-form-field>
                    <input matInput type="password" formControlName="password" id="password" required name="password" placeholder="Password" #password />
                    <mat-error *ngIf="form.controls.passwords.get('password').errors?.minlength">Enter minimum 6 characters</mat-error>
                </mat-form-field>
                <mat-form-field>
                    <input matInput type="password" class="form-control" formControlName="repeat" id="repeat" name="repeat" placeholder="Repeat Password" required />
                </mat-form-field>
                <span id="repeat-help" class="text-warning" *ngIf="
            form.controls.passwords.errors?.mismatch &&
            !form.controls.passwords.pristine &&
            form.controls.passwords.value.repeat !== ''
          ">
          Passwords don't match
        </span>
            </div>
            <mat-form-field>
                <input matInput type="text" formControlName="name" id="name" name="name" placeholder="Name" #names required />
                <mat-error *ngIf="form.controls.name.errors?.pattern">Name can contain only letters</mat-error>
            </mat-form-field>
            <mat-form-field>
                <mat-label>Role</mat-label>
                <mat-select formControlName="role">
                    <mat-option *ngFor="let role of roles" [value]="role">{{ role }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <mat-card-actions>
                <button mat-raised-button type="submit" class="btn btn-default" [disabled]="!form.valid || submitted">
          Submit
        </button>
            </mat-card-actions>
        </form>
        <mat-card-footer>
            <p>Already have an account? <span routerLink=""> Sign In </span></p>
        </mat-card-footer>
    </mat-card>
</div>