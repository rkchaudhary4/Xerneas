<div *ngIf="role === 'Admin'">
    <label for="upload-data">Upload CSV</label>
    <input type="file" (change)="uploadCSV($event.target.files)" style="display: none;" id="upload-data" />
    <mat-expansion-panel>
        <mat-expansion-panel-header>Upload PDFs</mat-expansion-panel-header>
        <div class="dropzone" appDropzone (hovered)="toggleHover($event)" (dropped)="uploadPDF($event)" [class.hovering]="isHovering">
            <h3>Drop PDFs here</h3>
            <h1>Or</h1>
        </div>
        <input type="file" (change)="uploadPDF($event.target.files)" style="display: none;" id="upload-pdf" multiple />
        <label for="upload-pdf"><h3>Choose files</h3></label>
    </mat-expansion-panel>
</div>

<div *ngIf="!isThere && !loading">
    Koi kaam nahi hai, maze kar bhai
</div>
<div *ngIf="isThere && !loading">
    <button (click)="openEditor()" mat-raised-button color="primary" class="opener">Open Editor</button>
    <div [ngSwitch]="role">
        <ng-container *ngSwitchCase="'Admin'">
            Admin
            <div *ngFor="let student of data">
                {{ student.uid }}
            </div>
        </ng-container>
        <ng-container *ngSwitchCase="'Manager'">
            Manager
            <!-- <div *ngFor="let student of data"> -->
            <!-- {{ student.uid }} -->
            <!-- </div> -->
        </ng-container>
        <ng-container *ngSwitchCase="'Teaching Assistant (TA)'">
            <table mat-table #table [dataSource]="data" class="mat-elevation-z8" fxFlex="auto">
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef>ID</th>
                    <td mat-cell *matCellDef="let element">{{element.uid}}</td>
                </ng-container>
                <ng-container matColumnDef="time">
                    <th mat-header-cell *matHeaderCellDef>Last edited</th>
                    <td mat-cell *matCellDef="let element">{{element.time.toDate() | date: 'medium'}}</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="['id', 'time']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['id', 'time']"></tr>
            </table>
        </ng-container>
    </div>
</div>
<mat-paginator #paginator *ngIf="isThere && !loading" [pageSize]="2" [pageSizeOptions]="[2, 5,10,15]" showFirstLastButtons></mat-paginator>